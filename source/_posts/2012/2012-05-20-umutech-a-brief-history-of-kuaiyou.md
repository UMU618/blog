---
layout: post
title: 快游简史
date: 2012-05-20 00:00:00
categories: UMUTech
tags:
- windows
- 挨踢
- 作品
---
## 0. 初尝阶段——技术为导向

为了从技术上超越对手，走自主研发道路，从应用层到驱动层，几乎把 Windows 平台上所有能拦截、过滤网络数据的方案都试过一遍。

其中主要的技术方案：TDI 驱动、NDIS IMD、LSP（IFS LSP 和 Non-IFS LSP 都有用过）。

有出产品的一个方案是 NDIS IMD，NT6（Vista+ 系统）上是 NDIS Filter。这个大方向上，又有两个小方案：纯的 NDIS 驱动；接合 LSP 收集游戏 IP 的方案。但是最终因为驱动频繁导致蓝屏，被合作方无情地抛弃……

不难发现，其实一开始就走错路了，开始产品化的时间是 2008 年，市面上还没多少游戏加速器，最突出的一个就是迅游，他们用的是 VPN+收集路由表的方式，使用的都是现有的成熟技术；而自主研发的驱动要做稳定需要经过很长时间的考验，产品压力下，我们的时间不够……

## 1. 失败重组阶段——开始以产品为导向

尝试了 VPN 的路线，想很快做出来，OpenVPN 的积累不足没法很快搞定，系统自带的 PPTP、L2TP 等 VPN，可以很快做出来，但是遇到机房限制，电信的机房不让我们的服务器架设 VPN……最后只能在部分小运营商内使用此方案。

后来终于重新启用了 LSP 的方案。这个方案原来被弃用原因是一开始使用的是自主研发的代理协议，出了不少问题，并且 LSP 确实也是个很麻烦的东西，安装后容易断网，还会与其它 LSP 冲突……后来代理协议改为公开的 Socks5 协议，服务器端的开发省掉了，全心全力解决 LSP 的问题。总算慢慢看到希望。

## 2. 缓慢发展阶段——以产品和用户为导向

由于一直招不到好的开发人员，只能边培养边做事，开发效率不是很高，经常犯错，导致用户投诉。但是整体上一直在收集用户问题，一直在努力解决它们。尤其是核心的 LSP 实现、安装和代理服务程序，参考来了很多同类产品，后来锁定了微软的 Firewall Client for ISA，把  LSP 做成 IFS LSP，使用类似 BSP 的安装方式，这是兼容性最好的方式了。代理服务程序由服务型 COM 对象改为一个普通进程，使用文件映射通信。界面也重新设计，准备推出快游 2012 版。这时候，注册用户是 60 万，在线用户每天平均 1.9 万。

## 3. 快速死亡阶段——以商业为导向

就在希望满怀，团队兴致最高，暗黑 3 正要引发游戏界又一轮高潮的时候，公司突然不打算做了……目前，为了推广“马头流量”（matocloud），尚能维持运营一段时间。

快游 2012，又称快游末日版，果然成为末日了！咳咳~一切都是因为钱嘛，可以理解……
